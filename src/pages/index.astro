---
import DefaultLayout from '../layouts/DefaultLayout.astro';
import Hero from '../components/Hero.astro';
import BlogCard from '../components/BlogCard.astro';
import { loadPosts } from '../util/loadPosts';

const posts = await loadPosts();
console.log(posts);
---

<DefaultLayout title="Home">
  <Hero />
  <div class="container">
    <h2 class="mb-4 text-center">Latest Posts</h2>
    <div>
      <ul class="flex flex-col gap-8">
        {
          posts.map((post) => (
            <li>
              <BlogCard link={post.slug} summary={post.summary} title={post.title} date={new Date()} />
            </li>
          ))
        }
      </ul>
    </div>
  </div>
</DefaultLayout>
